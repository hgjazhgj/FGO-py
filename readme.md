> <del>我7发呼符政哥哥</del>
# 使用说明 Instruction
显示的宽度必须为1080px,长度必须不小于1920px,无论是模拟器还是真机都可以使用该脚本  
虽然改一行代码就能应用于任意分辨率,但这可能导致识别问题,需要手动修改精度限制  
**请在手机的/sdcard目录下新建一个名为adbtemp的文件夹**  
需要有python基础  
使用了以下库:  
time os functools numpy cv2  

本脚本就一个源文件,直接运行或编辑  
代码最后几行就是主程序  
+ 在点击列表中第一个关卡就能进入选择助战界面的界面启动main函数来清空体力条,若传入一个int就会额外吃相应数量的金苹果  
+ 在进入战斗后尚未选卡的界面启动oneBattle函数来完成这一战斗  

每一回合的战斗都会输出相应信息,包括:  
1. 当前回合数  
2. 当前stage数  
3. 这一stage已经进行的回合数  
4. 各技能是否冷却完毕  
5. 各宝具是否充能完毕  
6. 各指令卡颜色  
7. 选择的指令卡序列  

我的qq 979449732,email huguangjing0411@geektip.cc  
有任何问题或bug反馈请联系,觉得有帮助请为我star  
请向可怜的非酋投喂<del>圣晶石</del>彩苹果  
## 你需要修改slnPath,adbPath和dpx  
slnPath是本解决方案的绝对位置,方便你把代码和其他资源分开放  
adbpath中要根据你的设备连接方式进行修改  
dpx为左侧的蓝边宽度,例如2160*1080就dpx=(2160-1920)/2=120  
## 你可以修改skillInfo数组
skillinfo列表记录了技能的信息  
skillinfo[编队中的第i个从者][的第j个技能]=[的最小使用stage数,在该stage的最小使用回合数,指向的目标(没有目标置0)]  
也就是说,若不使用技能就skillInfo[i][j][0]=4  
这样的安排足以应付日常周回的各种情况,比如三面boss充能五格,就把保命技能=[3,5,0]  
## 你可以修改houguInfo数组
houguinfo列表记录了宝具的信息  
houguinfo[编队中的第i个从者]=[的宝具的最小使用stage数,在该stage的最小使用回合数,是否优先使用(优先置1)]  
## 助战 Friends
你可以在main函数中chooseFriend的注释挪到下一行来启用助战选取功能  
你需要事先将你期望的各种助战的样子截图为png放在asserts/friend下,参照asserts/friend/unused中的文件  
被截图范围都应该可以点击来选中该好友  
如果你用的是模拟器,请通过本程序的screenshot函数来截图而不要用模拟器自带的截图,更不要用prtSc键来截图,这可能会导致识别错误  
如果你用的是手机,screenshot函数也可以大大方便你的操作  
助战截图的名称不应使用km,ml,cba开头,除非你的好友就挂的是孔明,梅林,十八岁美少女,参见choosefriend函数具体实现  
# 注意 Caution
出于效率考虑,宝具与技能是否可以使用会在同一次识别进行,也就是说,你**不应该使用会使np减少的技能**  
若战斗失败会自动撤退并留下记录然后继续下一把  
有些时候对从者头像的识别会有错误,*这个问题至今未解决,需要更合理的框选匹配范围* ,所以**如果你打算睡觉去,就别用带有指向的技能,也不要用后排的技能**否则一觉起来发现打第二把的时候就卡住了...
# 版本记录 Version Logs
## 2020/01/03 v2.7.0
打版本日志的时候突然发现已经2020年了...期末考好累...  
圣诞活动7号晚上开始,但是期末考9号才结束...  
所以复习放一边去,先把脚本给写了  
重大bug修复,带指向的技能现在会正确的施放了(尽管识别错误的问题仍然存在)  
微调了部分按键坐标,**现在你可以吃银苹果和铜苹果了**  
小优化,切换目标后加了冗余点击已关闭在点击已选中目标时产生的敌人详情对话框  
增加了所谓"快速换装(setSkillInfo)"函数,**先把配置写好,然后活动一开就上号挂机岂不美哉**!  
flag:我圣诞要吃光苹果,当前金苹果当量287  
## 2019/11/26 v2.6.0
蓝叠模拟器更到最新版就不会闪退了  
chooseFriend函数还是挺重要的,要用来选取特定从者  
明天(2019年11月27日星期三)上午8:30通关主线第8话(前篇)后开启炎舞击退战,
增加了一小段代码用于otk,现在直接运行脚本就是单次执行该脚本  
这段代码专用于"三美少女队",如果你没有bba/cba中的任何一个,或嫖不到cba,告辞.  
需要极地迦勒底制服  
**本次活动特攻是"特殊的魔放",会稀释其他的倍率,可恶!**  
## 2019/11/10 v2.5.2
版本更新后蓝叠模拟器闪退,在物理机上的兼容性未发现显著问题.  
版本更新后可以对助战礼装进行筛选,chooseFriend函数变得不再重要,已在主程序中禁用.